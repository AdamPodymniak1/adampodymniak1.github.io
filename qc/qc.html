<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Symulator ObwodÃ³w Kwantowych</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<header>
  <span>Symulator ObwodÃ³w Kwantowych</span>
  <div class="header-controls">
    <span>PomiarÃ³w:</span>
    <input type="number" id="shotsInput" value="1024" min="1" max="10000">
    <span>Kubity:</span>
    <input type="number" id="qubitsInput" value="2" min="1" max="10">
    <button onclick="updateQubitCount()">Updateuj</button>
  </div>
</header>

<div class="app">
  <div class="sidebar">
    <div class="palette-section">
      <h3>Bramki Podstawowe</h3>
      <div class="gate" draggable="true" data-gate="H">H</div>
      <div class="gate" draggable="true" data-gate="X">X</div>
      <div class="gate" draggable="true" data-gate="Y">Y</div>
      <div class="gate" draggable="true" data-gate="Z">Z</div>
      <div class="gate" draggable="true" data-gate="S">S</div>
      <div class="gate" draggable="true" data-gate="T">T</div>
    </div>
    
    <div class="palette-section">
      <h3>Bramki Kontrolowane</h3>
      <div class="gate control" draggable="true" data-gate="CNOT">â—â”€X</div>
      <div class="gate control" draggable="true" data-gate="CY">â—â”€Y</div>
      <div class="gate control" draggable="true" data-gate="CZ">â—â”€Z</div>
      <div class="gate control" draggable="true" data-gate="CCX">â—â—â”€X</div>
    </div>
    
    <div class="palette-section">
      <h3>Inne Bramki</h3>
      <div class="gate multi" draggable="true" data-gate="SWAP">SWAP</div>
      <div class="gate multi" draggable="true" data-gate="RX">RX(Î¸)</div>
      <div class="gate multi" draggable="true" data-gate="RY">RY(Î¸)</div>
      <div class="gate multi" draggable="true" data-gate="RZ">RZ(Î¸)</div>
      <div class="gate measure" draggable="true" data-gate="MEASURE">Pomiar</div>
    </div>
    
    <div class="controls">
      <div class="qubit-controls">
        <button onclick="addQubit()" title="Dodaj kubit">+ Kubit</button>
        <button onclick="removeQubit()" title="UsuÅ„ kubit">- Kubit</button>
      </div>
      <button class="primary" onclick="runCircuit()">â–¶ Uruchom SymulacjÄ™</button>
      <button class="secondary" onclick="addColumn()">â• Dodaj KolumnÄ™</button>
      <button class="danger" onclick="resetCircuit()">âŸ³ Resetuj Wszystko</button>
      <button onclick="clearGates()">ğŸ—‘ï¸ WyczyÅ›Ä‡ Bramki</button>
      <button onclick="exportCircuit()">ğŸ’¾ Eksportuj</button>
      <button onclick="importCircuit()">ğŸ“‚ Importuj</button>
      
      <div class="auto-run">
        <input type="checkbox" id="autoRun" checked>
        <label for="autoRun">Automatyczne uruchamianie</label>
      </div>
    </div>
  </div>

  <div class="circuit-area">
    <div class="circuit-header">
      <div style="color: #8a8aff; font-size: 0.9rem;">
        PrzeciÄ…gnij bramki z panelu po lewej. ObwÃ³d uruchamia siÄ™ automatycznie przy zmianach.
      </div>
    </div>
    
    <div class="circuit-container">
      <div id="circuit" class="grid"></div>
    </div>
    
    <div class="results">
      <div class="state-info">
        <div class="info-box">
          <h4>Wektor Stanu</h4>
          <div id="stateVector" class="state-vector"></div>
        </div>
        <div class="info-box">
          <h4>Wyniki PomiarÃ³w</h4>
          <div id="probabilityBars" class="probability-bars"></div>
          <pre id="output"></pre>
        </div>
      </div>
      
      <div class="result-section">
        <h3>Sfery Blocha</h3>
        <div id="blochSpheres" class="bloch-container"></div>
      </div>
    </div>
  </div>
</div>

<div id="contextMenu" class="context-menu">
  <div class="context-menu-item" onclick="editGate()">âœï¸ Edytuj BramkÄ™</div>
  <div class="context-menu-item" onclick="removeSelectedGate()">ğŸ—‘ï¸ UsuÅ„ BramkÄ™</div>
</div>

<div id="gateConfig" class="gate-config">
  <h4>Konfiguruj BramkÄ™</h4>
  <div id="configContent"></div>
  <button onclick="saveGateConfig()">Zapisz</button>
</div>

<script src="quantum.js"></script>
<script src="circuit.js"></script>
<script src="ui.js"></script>
</body>
</html>